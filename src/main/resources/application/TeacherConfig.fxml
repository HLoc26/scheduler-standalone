<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<SplitPane fx:id="root" xmlns:fx="http://javafx.com/fxml/1" dividerPositions="0.2" prefHeight="700.0" prefWidth="1100.0"
           xmlns="http://javafx.com/javafx/17" fx:controller="application.controllers.TeacherController">
    <VBox spacing="10.0" minWidth="200.0" maxWidth="350.0">
        <padding>
            <Insets bottom="10.0" left="10.0" right="10.0" top="10.0"/>
        </padding>
        <HBox alignment="CENTER_LEFT" spacing="10.0">
            <Label style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"
                   text="Danh sách Giáo viên"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button fx:id="btnAdd" text="+"
                    style="-fx-background-color: #2ecc71; -fx-text-fill: white; -fx-font-weight: bold; -fx-min-width: 30px;">
                <tooltip>
                    <Tooltip text="Thêm Giáo viên mới"/>
                </tooltip>
            </Button>
        </HBox>
        <TextField fx:id="searchField" promptText="Tìm kiếm tên..." style="-fx-background-radius: 15;"/>
        <ListView fx:id="teacherListView" VBox.vgrow="ALWAYS"/>
    </VBox>

    <BorderPane style="-fx-background-color: white;">
        <center>
            <ScrollPane fitToWidth="true" style="-fx-background-color: transparent; -fx-background: transparent;">
                <VBox spacing="20.0">
                    <padding>
                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0"/>
                    </padding>
                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                        <Label style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"
                               text="1. Thông tin cá nhân"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button fx:id="btnDelete" text="Xóa Giáo viên"
                                style="-fx-background-color: #c0392b; -fx-text-fill: white; -fx-font-weight: bold;"/>
                    </HBox>

                    <GridPane hgap="15.0" vgap="10.0">
                        <columnConstraints>
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" percentWidth="40.0"/>
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" percentWidth="60.0"/>
                        </columnConstraints>
                        <rowConstraints>
                            <RowConstraints minHeight="10.0" vgrow="SOMETIMES"/>
                            <RowConstraints minHeight="10.0" vgrow="SOMETIMES"/>
                        </rowConstraints>
                        <Label text="Họ và tên:" style="-fx-text-fill: #2c3e50;"/>
                        <TextField fx:id="nameField" promptText="Nhập tên giáo viên"
                                   GridPane.rowIndex="1"/>
                        <Label text="Mã định danh:" GridPane.columnIndex="1"
                               style="-fx-text-fill: #2c3e50;"/>
                        <TextField fx:id="codeField" promptText="Ví dụ: LAN_TOAN"
                                   GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                    </GridPane>

                    <Separator/>

                    <Label style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"
                           text="2. Phân công giảng dạy"/>

                    <SplitPane dividerPositions="0.3" VBox.vgrow="ALWAYS" prefHeight="400.0">
                        <VBox spacing="10.0" minWidth="280.0" prefWidth="280.0" maxWidth="280.0"
                              style="-fx-background-color: #f8f9fa; -fx-border-color: #dee2e6;">
                            <padding>
                                <Insets top="15" right="15" bottom="15" left="15"/>
                            </padding>
                            <Label text="THÊM MỚI"
                                   style="-fx-font-weight: bold; -fx-text-fill: #7f8c8d;"/>

                            <VBox spacing="5.0">
                                <Label text="1. Chọn Môn học:"
                                       style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>

                                <ComboBox fx:id="subjectComboBox"
                                          maxWidth="1.7976931348623157E308"
                                          minWidth="50"
                                          minHeight="35.0"
                                          prefHeight="35.0"
                                          promptText="Chọn môn..."/>
                            </VBox>

                            <VBox spacing="5.0" VBox.vgrow="ALWAYS">
                                <Label text="2. Chọn Lớp (Giữ Ctrl để chọn nhiều):"
                                       style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                                <ListView fx:id="multiClassListView" VBox.vgrow="ALWAYS"/>
                            </VBox>

                            <Button fx:id="btnAddBatch" mnemonicParsing="false"
                                    maxWidth="1.7976931348623157E308" minHeight="35.0"
                                    style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand;"
                                    text="THÊM"/>
                        </VBox>

                        <VBox spacing="5.0" HBox.hgrow="ALWAYS">
                            <padding>
                                <Insets top="15" right="15" bottom="15" left="15"/>
                            </padding>
                            <Label text="Danh sách các lớp đang dạy:"
                                   style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                            <TableView fx:id="assignmentTable" VBox.vgrow="ALWAYS">
                                <columns>
                                    <TableColumn fx:id="colSubject" prefWidth="120.0" text="Môn học"/>
                                    <TableColumn fx:id="colClass" text="Lớp"/>
                                    <TableColumn fx:id="colPeriods" prefWidth="100.0"
                                                 style="-fx-alignment: CENTER;" text="Số tiết"/>
                                    <TableColumn fx:id="colAction" prefWidth="70.0"
                                                 style="-fx-alignment: CENTER;"/>
                                </columns>
                                <columnResizePolicy>
                                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                                </columnResizePolicy>
                            </TableView>
                        </VBox>
                    </SplitPane>

                    <Separator/>

                    <Label style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"
                           text="3. Thời gian bận"/>
                    <StackPane fx:id="timeGridContainer" alignment="CENTER_LEFT"/>

                </VBox>
            </ScrollPane>
        </center>

        <bottom>
            <HBox alignment="CENTER_RIGHT" spacing="15.0"
                  style="-fx-border-color: #dee2e6; -fx-border-width: 1 0 0 0; -fx-background-color: #f8f9fa;">
                <padding>
                    <Insets bottom="15.0" left="20.0" right="20.0" top="15.0"/>
                </padding>
                <Label fx:id="totalPeriodsLabel" style="-fx-font-size: 14px; -fx-font-weight: bold;"
                       text="Tổng số tiết: 0"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button fx:id="btnSave" defaultButton="true" minWidth="120.0" mnemonicParsing="false"
                        prefHeight="35.0"
                        style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold;"
                        text="LƯU THAY ĐỔI"/>
            </HBox>
        </bottom>
    </BorderPane>
</SplitPane>